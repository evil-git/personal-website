<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVIL - Full Stack Developer & Dynamic Design</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Font Awesome for high-quality icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        /* Custom Configuration for Tailwind, using Inter font by default */
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; transition: background-color 0.5s, color 0.5s; }

        /* Custom animation keyframes */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideInUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Animation class to apply when element enters viewport */
        .scroll-reveal { opacity: 0; transition: opacity 1s ease-out, transform 1s ease-out; transform: translateY(30px); }
        .scroll-reveal.visible { opacity: 1; transform: translateY(0); }

        /* Dark Mode Styling */
        .dark body { background-color: #1a202c; color: #e2e8f0; }
        .dark .card { background-color: #2d3748; border-color: #4a5568; }
        .dark .section-title { color: #fff; }
        .dark .nav-link:hover { color: #63b3ed; }
        .dark .social-icon:hover { color: #63b3ed; }

    </style>
</head>

<body class="bg-gray-50 text-gray-700 antialiased">

    <!-- 
        ============================================================ 
        1. Navigation Bar (Sticky, Responsive, with Dark Mode Toggle)
        ============================================================ 
    -->
    <nav class="sticky top-0 z-50 bg-white dark:bg-gray-800 shadow-lg transition duration-500">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex-shrink-0 font-extrabold text-2xl text-indigo-600 dark:text-indigo-400">
                    &lt;EVIL /&gt;
                </div>

                <!-- Desktop Nav Links -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#home" class="nav-link text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md font-medium hover:text-indigo-600 dark:hover:text-indigo-400">Home</a>
                        <a href="#about" class="nav-link text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md font-medium hover:text-indigo-600 dark:hover:text-indigo-400">About</a>
                        <a href="#portfolio" class="nav-link text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md font-medium hover:text-indigo-600 dark:hover:text-indigo-400">Portfolio</a>
                        <a href="#contact" class="nav-link text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md font-medium hover:text-indigo-600 dark:hover:text-indigo-400">Contact</a>
                    </div>
                </div>

                <!-- Dark Mode Toggle & Mobile Menu Button -->
                <div class="flex items-center">
                    <button id="theme-toggle" class="p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition duration-300" aria-label="Toggle Dark Mode">
                        <i id="theme-icon" class="fas fa-sun text-xl"></i>
                    </button>
                    <!-- Mobile Menu Button (Hamburger) -->
                    <button id="mobile-menu-btn" class="md:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 ml-3" aria-label="Open main menu">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden md:hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#home" class="block text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 px-3 py-2 rounded-md font-medium">Home</a>
                <a href="#about" class="block text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 px-3 py-2 rounded-md font-medium">About</a>
                <a href="#portfolio" class="block text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 px-3 py-2 rounded-md font-medium">Portfolio</a>
                <a href="#contact" class="block text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 px-3 py-2 rounded-md font-medium">Contact</a>
            </div>
        </div>
    </nav>

    <!-- 
        ============================================================ 
        2. Hero Section (Dynamic Typewriter Effect)
        ============================================================ 
    -->
    <header id="home" class="relative overflow-hidden pt-24 pb-32 bg-indigo-50 dark:bg-gray-900 transition duration-500">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center animate-[fadeIn_1.5s_ease-out]">
            <p class="text-xl font-medium text-indigo-600 dark:text-indigo-400 mb-4">Hello, World!</p>
            <h1 class="text-5xl sm:text-6xl lg:text-7xl font-extrabold tracking-tight text-gray-900 dark:text-white mb-6">
                I'm <span class="text-indigo-700 dark:text-indigo-400">[EVIL]</span>
            </h1>
            <p id="typewriter-text" class="text-2xl font-light text-gray-600 dark:text-gray-300 h-8"></p>
            <a href="#portfolio" class="mt-8 inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-full shadow-lg text-white bg-indigo-600 hover:bg-indigo-700 transition duration-300 transform hover:scale-105">
                View My Work <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>
    </header>

    <main>
        <!-- 
            ============================================================ 
            3. About Section (Scroll Reveal) - UPDATED with LLM Feature
            ============================================================ 
        -->
        <section id="about" class="py-20 scroll-reveal">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="section-title text-4xl font-bold text-center text-gray-900 dark:text-white mb-12">About Me</h2>
                <div class="lg:flex lg:items-center lg:space-x-12">
                    <!-- Profile Card -->
                    <div class="lg:w-1/3 p-6 card bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-indigo-100 dark:border-gray-700 mb-8 lg:mb-0 transform hover:shadow-indigo-500/20 transition duration-500">
                        <div class="flex justify-center mb-6">
                            <div class="w-32 h-32 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center text-4xl text-indigo-600 dark:text-indigo-400 border-4 border-indigo-300 dark:border-indigo-600">
                                <i class="fas fa-user-tie"></i>
                            </div>
                        </div>
                        <h3 class="text-center text-2xl font-semibold text-gray-900 dark:text-white">Professional Profile</h3>
                        <ul class="mt-4 space-y-2 text-sm text-gray-500 dark:text-gray-400">
                            <li><i class="fas fa-check-circle text-indigo-500 mr-2"></i> Role: Full Stack Developer</li>
                            <li><i class="fas fa-check-circle text-indigo-500 mr-2"></i> Focus: Scalable Cloud Architecture</li>
                            <li><i class="fas fa-check-circle text-indigo-500 mr-2"></i> Experience: 5+ Years</li>
                        </ul>
                    </div>

                    <!-- Description and New LLM Feature -->
                    <div class="lg:w-2/3">
                        <p id="about-description" class="text-lg leading-relaxed text-gray-600 dark:text-gray-300 mb-6">
                            I am a **results-driven software engineer** specializing in the MERN stack (MongoDB, Express, React, Node.js). My passion lies in translating complex business requirements into elegant, high-performance web applications. I thrive in environments that challenge me to explore new technologies and optimize for accessibility and speed.
                        </p>
                        <div class="grid grid-cols-2 gap-4 text-gray-600 dark:text-gray-400 font-medium mb-6">
                            <p><i class="fas fa-rocket text-indigo-500 mr-2"></i> Performance Optimization</p>
                            <p><i class="fas fa-flask text-indigo-500 mr-2"></i> Unit & Integration Testing</p>
                            <p><i class="fas fa-lock text-indigo-500 mr-2"></i> Security Best Practices</p>
                            <p><i class="fas fa-palette text-indigo-500 mr-2"></i> Clean UI/UX Design</p>
                        </div>
                        
                        <!-- NEW LLM Feature Block: Elevator Pitch Generator -->
                        <div class="bg-indigo-50 dark:bg-gray-700 p-4 rounded-xl shadow-inner mt-8">
                            <h4 class="font-bold text-indigo-700 dark:text-indigo-300 mb-3 flex items-center">
                                <i class="fas fa-magic mr-2"></i> AI Career Assistant
                            </h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                                Generate a concise, attention-grabbing elevator pitch based on the description above.
                            </p>
                            <button id="generate-pitch-btn" 
                                class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-full text-white bg-indigo-600 hover:bg-indigo-700 transition duration-300 transform hover:scale-105 disabled:opacity-50">
                                ✨ Generate Elevator Pitch
                            </button>
                            <div id="pitch-output-area" class="mt-4 hidden p-3 bg-white dark:bg-gray-800 rounded-lg border-l-4 border-indigo-500">
                                <p id="loading-indicator" class="text-center text-gray-500 dark:text-gray-400 hidden">
                                    <i class="fas fa-spinner fa-spin mr-2"></i> Generating pitch...
                                </p>
                                <p id="generated-pitch" class="text-gray-900 dark:text-gray-100 italic"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 
            ============================================================ 
            4. Portfolio/Skills Section (Animated Grid)
            ============================================================ 
        -->
        <section id="portfolio" class="py-20 bg-gray-100 dark:bg-gray-800 scroll-reveal">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="section-title text-4xl font-bold text-center text-gray-900 dark:text-white mb-12">Key Skills & Projects</h2>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Skill Card 1: Frontend -->
                    <div class="card p-6 bg-white dark:bg-gray-700 rounded-xl shadow-lg border-t-4 border-indigo-500 transform hover:scale-[1.02] transition duration-300">
                        <i class="fab fa-react text-4xl text-indigo-500 mb-4"></i>
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Frontend Mastery</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">React, Next.js, Redux, Tailwind CSS. Building highly dynamic and stateful single-page applications.</p>
                    </div>
                    
                    <!-- Skill Card 2: Backend -->
                    <div class="card p-6 bg-white dark:bg-gray-700 rounded-xl shadow-lg border-t-4 border-green-500 transform hover:scale-[1.02] transition duration-300">
                        <i class="fas fa-server text-4xl text-green-500 mb-4"></i>
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Backend & APIs</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">Node.js, Express, RESTful & GraphQL APIs, secure authentication flows (JWT/OAuth).</p>
                    </div>

                    <!-- Skill Card 3: Database & Cloud -->
                    <div class="card p-6 bg-white dark:bg-gray-700 rounded-xl shadow-lg border-t-4 border-yellow-500 transform hover:scale-[1.02] transition duration-300">
                        <i class="fas fa-cloud text-4xl text-yellow-500 mb-4"></i>
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Database & DevOps</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">PostgreSQL, MongoDB, Docker, CI/CD pipelines, and cloud services (AWS/GCP).</p>
                    </div>
                    
                </div>

                <!-- Placeholder Project Link -->
                <div class="mt-12 text-center">
                    <a href="#" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full text-indigo-600 dark:text-indigo-400 bg-white dark:bg-gray-700 hover:bg-indigo-50 dark:hover:bg-gray-600 shadow-lg transition duration-300">
                        Explore Full Project Repository <i class="fab fa-github ml-2"></i>
                    </a>
                </div>
            </div>
        </section>

        <!-- 
            ============================================================ 
            5. Contact Section (Direct Email Link)
            ============================================================ 
        -->
        <section id="contact" class="py-20 scroll-reveal">
            <div class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="section-title text-4xl font-bold text-center text-gray-900 dark:text-white mb-6">Let's Connect</h2>
                <p class="text-lg text-gray-600 dark:text-gray-300 mb-10">
                    I am actively seeking new opportunities and collaborations. Reach out directly via email to discuss potential projects or roles.
                </p>

                <!-- Direct Email Link -->
                <a href="mailto:singha70850@gmail.com" 
                   class="w-full sm:w-auto inline-flex items-center justify-center mx-auto px-10 py-4 border border-transparent text-lg font-bold rounded-full text-white bg-red-600 hover:bg-red-700 shadow-2xl shadow-red-500/40 transition duration-300 transform hover:scale-105">
                    <i class="fas fa-paper-plane mr-3"></i> 
                    Email Me: singha70850@gmail.com
                </a>

                <!-- Social Icons removed -->
                
            </div>
        </section>
    </main>

    <!-- 
        ============================================================ 
        6. Footer
        ============================================================ 
    -->
    <footer class="py-8 bg-gray-800 dark:bg-gray-900 text-center text-gray-400 text-sm">
        <p>&copy; 2025 [EVIL]. Built with Tailwind CSS and High-Level JavaScript. All Rights Reserved.</p>
    </footer>

    <!-- 
        ============================================================ 
        7. JavaScript (Dynamic Features & Gemini API)
        ============================================================ 
    -->
    <script>
        // --- 1. Dark Mode Toggling ---
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');

        function applyTheme() {
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const isDark = localStorage.getItem('theme') === 'dark' || (localStorage.getItem('theme') === null && prefersDark);
            
            if (isDark) {
                document.documentElement.classList.add('dark');
                themeIcon.classList.replace('fa-sun', 'fa-moon');
                localStorage.setItem('theme', 'dark');
            } else {
                document.documentElement.classList.remove('dark');
                themeIcon.classList.replace('fa-moon', 'fa-sun');
                localStorage.setItem('theme', 'light');
            }
        }

        themeToggle.addEventListener('click', () => {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
            themeIcon.classList.toggle('fa-sun');
            themeIcon.classList.toggle('fa-moon');
        });

        applyTheme();


        // --- 2. Typewriter Effect for Hero Text ---
        const textToType = ["Full Stack Developer.", "A Creative Problem Solver.", "Building Dynamic Experiences."];
        const typewriterElement = document.getElementById('typewriter-text');
        let textIndex = 0;
        let charIndex = 0;
        let isDeleting = false;

        function type() {
            const currentText = textToType[textIndex];
            if (isDeleting) {
                typewriterElement.textContent = currentText.substring(0, charIndex--);
            } else {
                typewriterElement.textContent = currentText.substring(0, charIndex++);
            }

            let typeSpeed = 80;

            if (isDeleting) {
                typeSpeed /= 2; 
            }

            if (!isDeleting && charIndex === currentText.length + 1) {
                typeSpeed = 2000;
                isDeleting = true;
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                textIndex = (textIndex + 1) % textToType.length;
                typeSpeed = 500;
            }

            setTimeout(type, typeSpeed);
        }

        setTimeout(type, 1000);


        // --- 3. Scroll Reveal Animation (Intersection Observer API) ---
        function setupScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target); 
                    }
                });
            }, {
                threshold: 0.1 
            });

            document.querySelectorAll('.scroll-reveal').forEach(section => {
                observer.observe(section);
            });
        }

        window.addEventListener('load', setupScrollReveal);


        // --- 4. Mobile Menu Toggle ---
        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });
        
        // --- 5. Gemini API Helpers and Elevator Pitch Feature ---
        const API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=';
        const MAX_RETRIES = 3;

        /**
         * Generic function to call the Gemini API with exponential backoff.
         * @param {object} payload - The request payload.
         * @param {number} attempt - Current retry attempt.
         * @returns {Promise<object>} The parsed API response.
         */
        async function fetchWithRetry(payload, attempt = 1) {
            const apiKey = ""; 
            const url = API_URL + apiKey;

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (response.status === 429 && attempt < MAX_RETRIES) {
                    const delay = Math.pow(2, attempt) * 1000;
                    console.warn(`Rate limit hit, retrying in ${delay / 1000}s... (Attempt ${attempt})`);
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchWithRetry(payload, attempt + 1);
                }

                if (!response.ok) {
                    const errorBody = await response.json();
                    throw new Error(`API error: ${response.status} - ${JSON.stringify(errorBody)}`);
                }

                return response.json();

            } catch (error) {
                if (attempt < MAX_RETRIES) {
                    const delay = Math.pow(2, attempt) * 1000;
                    console.error(`Fetch failed, retrying in ${delay / 1000}s... (Attempt ${attempt})`, error);
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchWithRetry(payload, attempt + 1);
                }
                throw new Error("Gemini API call failed after multiple retries: " + error.message);
            }
        }

        /**
         * Extracts text from the Gemini response.
         * @param {object} response - The raw API response object.
         * @returns {string} The generated text.
         */
        function extractTextFromResponse(response) {
            return response.candidates?.[0]?.content?.parts?.[0]?.text || "Generation failed: Could not get a valid response.";
        }


        // Main feature logic for Elevator Pitch
        document.getElementById('generate-pitch-btn').addEventListener('click', generateElevatorPitch);

        async function generateElevatorPitch() {
            const btn = document.getElementById('generate-pitch-btn');
            const aboutText = document.getElementById('about-description').textContent.trim();
            const outputArea = document.getElementById('pitch-output-area');
            const loadingIndicator = document.getElementById('loading-indicator');
            const generatedPitch = document.getElementById('generated-pitch');

            // 1. UI State: Start Loading
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Generating...';
            outputArea.classList.remove('hidden');
            loadingIndicator.classList.remove('hidden');
            generatedPitch.textContent = '';


            // 2. Prepare Payload
            const userQuery = `Using the following professional profile description, write a compelling, 30-second elevator pitch (approximately 2-3 sentences long) that focuses on impact and skills:\n\n---\n${aboutText}`;
            const systemPrompt = "You are a world-class professional copywriter and career coach. Your goal is to take a developer's long description and condense it into a sharp, energetic, and highly professional elevator pitch. Output ONLY the pitch.";

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
                generationConfig: { 
                    temperature: 0.8,
                    maxOutputTokens: 200 // Ensure the pitch stays concise
                }
            };

            try {
                // 3. Call Gemini API
                const response = await fetchWithRetry(payload);
                const pitch = extractTextFromResponse(response);
                
                // 4. UI State: Display Result
                generatedPitch.textContent = pitch;

            } catch (error) {
                console.error("Error generating elevator pitch:", error);
                generatedPitch.textContent = "Error: Failed to generate pitch. Please check the console for details.";
            } finally {
                // 5. UI State: Stop Loading
                btn.disabled = false;
                btn.innerHTML = '✨ Generate Elevator Pitch';
                loadingIndicator.classList.add('hidden');
            }
        }
    </script>
</body>
</html>
